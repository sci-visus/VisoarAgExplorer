import os
from PyQt5 import QtCore, QtGui, QtWidgets
import PyQt5.uic as uic
import cv2
import copy
import numpy as np
VIGNETTE_CLASS, _ = uic.loadUiType(os.path.join(
    os.path.dirname(__file__), 'MAPIR_Processing_dockwidget_vignette.ui'))
modpath = os.path.dirname(os.path.realpath(__file__))
POS_DICT = {
    "3.2MP, 9.6mm, 405": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 450": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 490": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 518": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 550": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 590": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 615": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 632": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 685": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 725": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 780": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 808": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 850": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 850": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 880": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "3.2MP, 9.6mm, 940": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 3.37mm, 644, 1": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 8.25mm, 644, 1": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 3.37mm, 550-660-850, 1": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 8.25mm, 550-660-850, 1": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 3.37mm, 644, 2": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 8.25mm, 644, 2": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 3.37mm, 550-660-850, 2": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 8.25mm, 550-660-850, 2": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 3.37mm, 644, 3": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 8.25mm, 644, 3": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 3.37mm, 550-660-850, 3": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)],

    "14.4MP, 8.25mm, 550-660-850, 3": [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 8), (1, 0), (1, 1),
                          (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (2, 0), (2, 1), (2, 2), (2, 3),
                          (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
                          (3, 6), (3, 7), (3, 8), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
                          (4, 8), (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7), (5, 8), (6, 0),
                          (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7), (6, 8), (7, 0), (7, 1), (7, 2),
                          (7, 3), (7, 4), (7, 5), (7, 6), (7, 7), (7, 8), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4),
                          (8, 5), (8, 6), (8, 7), (8, 8)]

}

C_DICT = {
    "3.2MP, 9.6mm, 405": [0.997,0.024869,-1.6214,0.049373,3.2868,-0.42941,-6.1103,1.1726,6.1523,-0.088903,2.7521e-06,0.24616,
                          -0.3131,-0.08504,2.6013,-4.2109,-5.8424,9.3794,-4.2329,-0.047391,14.231,0.67563,-32.466,-0.14853,
                          36.208,-5.2259,-17.211,0.80139,0.1848,-3.0376,1.0354,4.43,-3.3875,-0.25788,10.108,0.99353,17.634,
                          -1.4002,-67.166,2.1047,121.51,1.0535,-49.625,-4.2288,-39.742,-4.0013,-0.94196,12.996,-6.801,-3.2723,
                          -3.9752,-5.4375,2.2791,-2.1473,-52.909,9.6594,137.06,-8.1372,-101.59,-5.761,-71.506,-3.6425,-27.865,
                          6.9066,1.9586,-21.618,13.455,-8.5703,2.869,-3.464,1.4476,-0.4043,66.319,-17.463,-55.46,-12.239,-82.288,
                          -4.834,-36.019,-1.2313,-11.494],

    "3.2MP, 9.6mm, 450": [0.99943, 0.0053896, -1.1326, 0.35087, 1.476, -2.459, -3.9974, 4.8845, 6.3704, 0.099262,
                          -0.0094082, -0.13868, 0.28012, -2.0445, -1.1495, 18.027, -1.1383, -33.018, -3.661, -0.2945,
                          10.373, 0.80541, -39.345, 6.0114, 82.32, -8.8432, -74.298, -0.57449, -0.12134, 0.62363,
                          -0.39588, 0.51569, 1.0321, -10.196, 15.608, -2.3026, 10.599, 3.1772, -60.967, -18.759, 218.37,
                          -5.4488, -129.45, 0.86726, -95.564, 2.206, 1.5194, 11.943, -3.5738, -8.7942, -2.4993, -32.619,
                          4.8849, -14.285, -24.842, -12.708, 185.86, 44.867, -334.09, 29.39, -192.21, 10.928, -69.49,
                          -2.5048, -4.5529, -38.507, 13.053, -4.4016, 0.0059383, -11.028, 0.57311, -5.202, 27.313,
                          15.749, -182.26, 7.9879, -226.49, 10.742, -91.711, 4.4905, -28.026],

    "3.2MP, 9.6mm, 490": [0.99936,-0.0025438,-1.2189,0.21989,1.8439,-1.065,-6.3776,1.9047,11.321,-0.066775,-0.12826,-0.045695,
                          1.3604,0.81824,-6.7531,-2.8794,10.874,2.5816,-3.5883,0.25215,10.062,-3.3505,-40.913,11.332,95.135,
                          -16.954,-78.08,0.16761,1.0572,-0.36827,-6.7742,-1.0299,19.034,3.4858,-8.8386,6.2376,9.4359,-1.5646,
                          -61.381,14.522,226.2,-2.4737,-192.03,-16.338,-132.61,0.25687,-4.1353,4.6748,10.857,-10.644,-23.925,5.9621,
                          -13.01,3.7653,-20.154,-0.83175,176,-11.365,-279.06,-28.768,-201.81,-15.058,-80.855,-1.3594,5.5998,-11.223,
                          8.547,1.2658,-9.266,5.7807,-3.9978,2.6176,19.383,14.875,-146.55,-50.7,-210.65,-24.957,-96.842,-8.3989,-32.83],

    "3.2MP, 9.6mm, 518": [1,0.0061607,-1.1778,-0.14129,2.1169,0.91294,-8.0906,-1.8678,14.384,-0.079231,-0.041459,-0.45266,
                          1.2526,7.1782,-8.5278,-34.682,14.916,61.362,-3.4431,0.25024,8.1183,-0.42904,-31.372,-4.7222,
                          54.518,15.84,-3.6334,0.65158,-0.30567,0.077928,-7.6275,-14.916,65.944,-1.6245,-53.722,42.082,
                          8.4628,-4.1538,-47.951,9.4878,209.55,5.5883,-193.63,0.08831,-113.56,-4.568,9.3421,16.154,-33.823,
                          43.085,-118.92,-12.305,-61.925,0.60174,-19.644,23.248,136.53,-37.036,-260.38,-41.342,-178.7,
                          -11.995,-69.062,11.135,-30.645,-53.805,188.07,-38.75,-12.197,-13.418,-15.893,-1.5853,25.069,-44.174,
                          -114.56,50.642,-195.12,-1.2914,-85.856,-0.70481,-28.202],

    "3.2MP, 9.6mm, 550": [1.0028, 0.030866, -0.9088, 0.0087242, -1.8067, 0.013787, 11.449, -0.23185, -18.829, -0.010119,
                          -0.10686, 0.31075, 1.7413, -3.075, -6.8767, 6.28, 8.7722, 2.6575, -3.2751, -0.13948, 5.9773,
                          2.0461, -14.759, -8.7919, 1.0834, 9.7631, 64.402, 0.16078, 1.1955, -4.2614, -16.1, 24.133,
                          41.981, -4.9668, -37.938, -61.141, 6.3119, 0.11322, -46.294, -9.7681, 205.56, 23.819, -176.31,
                          -14.651, -81.8, -0.69136, -4.9194, 15.515, 56.504, -33.455, -40.654, -64.852, -32.264,
                          -41.144, -8.5747, 0.31265, 176.16, 23.696, -363.43, 18.023, -209.6, -4.581, -69.433, 1.1177,
                          7.2155, -11.382, -79.264, -34.658, -41.083, -36.155, -15.136, -17.558, 4.243, 0.38789, -191.1,
                          -55.756, -244.53, -15.957, -98.037, -7.081, -29.173],

    "3.2MP, 9.6mm, 590": [1.0005,0.024112,-1.0337,-0.14317,0.86801,1.2966,-4.0517,-3.1226,10.399,-0.065821,-0.1063,
                          -0.12423,1.7518,3.4615,-9.3787,-16.098,16.641,23.776,-3.045,0.21802,4.7011,0.47991,-21.045,
                          -14.546,85.124,37.127,-129.57,0.68373,1.5643,-0.95592,-19.277,-5.2131,64.687,13.216,-66.91,
                          -9.0915,3.3977,-1.4472,-17.985,2.9846,105.69,53.142,-95.223,-132.83,-97.78,-3.1191,-7.9135,
                          6.4302,70.976,-15.494,-92.081,23.266,-43.111,2.4766,4.8637,-6.5979,74.588,26.318,-183.07,2.1484,
                          -118.19,-53.13,-54.025,5.0762,12.481,-19.054,-79.938,65.533,-54.559,36.223,-16.714,9.8091,-15.829,
                          36.411,-110.4,-168.58,-151.27,-55.756,-64.321,-28.978,-22.689],

    "3.2MP, 9.6mm, 615": [1.0027, 0.029612, -0.88886, 0.029951, -1.0866, 0.054713, 8.3285, -0.4946, -14.662, 0.012939,
                          -0.11643, -0.04947, 1.5018, -1.0442, -6.5253, 7.7437, 9.5425, -14.567, -3.0971, -0.04477,
                          4.9477, -0.50201, -8.032, -2.775, -5.469, 14.279, 38.59, -0.38885, 1.3482, 0.96373, -14.784,
                          -0.3003, 48.893, 2.4337, -29.178, -18.037, 5.2606, -0.041947, -34.312, 5.0956, 129.71, 3.3542,
                          -70.572, -23.793, -35.54, 2.9201, -4.8475, -3.0852, 40.203, 12.51, -99.264, -13.334, -56.794,
                          -18.254, -5.2279, -2.9605, 155.73, 7.3866, -298.05, -46.945, -130.64, -28.967, -38.935,
                          -6.1273, 4.0739, 1.699, 7.6238, -33.802, -51.185, -20.778, -24.939, -10.769, 1.1419, 9.286,
                          -213.44, -15.023, -199.07, -29.631, -64.826, -14.174, -17.323],

    "3.2MP, 9.6mm, 632": [1.0002,0.026911,-1.1232,0.086195,0.88961,-0.64254,-0.60102,1.6167,0.36093,-0.018505,-0.12615,
                         -0.20301,2.7058,0.24323,-20.377,4.8812,46.693,-13.033,-3.3674,0.22867,8.1015,-1.0233,-33.14,-6.5752,
                         88.347,11.613,-85.309,-0.23613,1.3879,3.9432,-11.355,-11.385,67.672,2.1911,-169.03,26.271,7.6279,
                         -3.2329,-45.117,15.777,181.06,52.797,-169.04,-88.113,-114.7,2.1754,-8.8425,-15.137,26.553,26.048,
                         33.993,-29.811,-43.164,-8.1552,-13.06,6.8205,125.07,-42.151,-223.15,-30.11,-171.61,-44.925,-70.115,
                         -4.5046,21.085,11.883,-75.707,19.947,-21.13,-6.7403,-17.417,-2.7611,8.8174,9.5857,-100.19,-55.22,
                         -181.3,-30.207,-85.776,-17.918,-28.903],

    "3.2MP, 9.6mm, 644": [1.0203,0.06261,-0.98001,0.14658,-1.4138,-1.5669,10.486,4.6651,-7.8002,-0.16202,0.043083,
                          -0.20001,0.96891,2.7953,-8.9464,-9.4486,18.373,10.695,-1.8045,0.1054,2.2288,-1.0515,23.346
                          ,-1.191,-138.26,8.1387,212.35,0.15394,-0.13169,0.26625,-10.595, -4.0902,70.157,9.3884,-84.934,
                          -1.0847,5.0968,-1.5557,7.9206,10.065,-57.243,-7.7818,113.25,-2.9095,81.919,-0.036356,4.2174,
                          3.8678, 11.072,3.2748,-107.41,-28.161,-67.008,-14.051,-12.841,5.2318,-94.844,-29.01,39.962,
                          2.6099,33.366,3.2173,15.556,-0.22826,-16.385,-9.541,72.623,12.577,-28.12,-6.867,-19.382,
                          -3.4818,14.372,-6.2935,225.6,23.858,53.15,12.779,11.749,4.6485,3.4792],

    "3.2MP, 9.6mm, 685": [1.003, 0.030324, -1.1247, -0.07019, 0.013078, -0.66161, 6.6703, 2.6797, -14.42, -0.12746,
                          -0.025206, 0.19796, 0.46894, 0.48103, -0.15019, -2.4923, -6.7427, 4.7697, -3.3401, -0.2982,
                          9.3301, 4.0009, -25.93, -12.754, 24.462, 6.8147, 13.235, 1.1609, -0.47188, -4.3304, -4.6718,
                          -2.7579, 21.943, -7.7878, 43.318, 22.57, 8.0184, -0.13892, -61.005, -10.161, 189.04, 46.426,
                          -101.08, -17.197, -70.991, -6.8244, 6.9994, 35.282, -7.5683, -9.4476, -108, 32.405, -26.902,
                          20.317, -15.009, 4.747, 205.03, -7.2543, -302.59, -31.577, -174.12, -22.917, -63.952, 13.717,
                          -19.761, -83.252, 87.256, 36.727, -6.1328, 31.143, -1.2066, 12.91, 13.259, -3.628, -229.29,
                          5.3769, -233.34, -15.89, -91.819, -9.0245, -28.236],

    "3.2MP, 9.6mm, 725": [1.0029, 0.039098, -1.0014, 0.02838, 0.22629, -0.58043, 2.936, 1.2747, -5.8326, 0.060629,
                          -0.058377, -0.162, 1.1359, 0.086272, -7.298, 0.42058, 14.444, 0.87893, -3.0799, -0.58293,
                          7.4569, 3.6709, -22.371, -14.791, 36.804, 22.091, -11.973, -0.17597, 0.13502, 0.74392,
                          -4.7027, 4.8825, 36.192, -10.145, -50.044, 3.8438, 6.4152, 5.1805, -47.642, -19.798, 176.47,
                          13.353, -120.37, 39.791, -78.182, 0.29679, 3.7295, 1.613, -25.411, -18.328, -20.536, -15.43,
                          -25.206, -4.9083, -11.277, -23.491, 176.65, 30.004, -334.7, 39.343, -164.98, 25.822, -56.432,
                          0.18976, -13.135, -6.0877, 97.212, -9.3171, 16.173, -4.5982, -1.9369, -1.3945, 12.571, 39.086,
                          -214.08, 16.324, -220.37, 18.334, -77.656, 10.25, -22.714],

    "3.2MP, 9.6mm, 780": [1.0049,-0.0042599,-1.0991,-0.50472,0.45512,4.0135,3.3039,-9.0863,-9.0734,-0.03815,-0.016869,
                          1.1196,3.1638,-8.5553,-30.044,17.708,68.908,0.063329,-3.1219,-0.54184,5.5801,6.5294,-12.914,
                          -31.057,15.16,52.275,38.521,0.5927,-1.5178,-12.657,-3.1815,68.358,125.02,-79.307,-275.56,-62.354,
                          7.0295,7.4382,-32.439,-30.489,105.94,37.435,-137.69,5.5095,-74.225,-3.3903,12.147,43.784,-82.776,
                          -102.35,-12.951,-6.2769,-68.396,-1.8059,-15.882,-38.042,127.97,66.734,-125.17,30.738,-140.87,3.144,
                          -58.077,6.8151,-24.261,-43.188,181.96,-68.534,49.118,-6.8367,-1.0682,-0.39684,20.47,66.175,-169.55,
                          -62.174,-161.69,-12.799,-81.643,-3.9707,-27.786],
  
    "3.2MP, 9.6mm, 808":  [1.0002,0.04648,-1.0748,-0.10271,0.71667,0.14393,-1.3058,0.15773,4.252,-0.047696,-0.037749,
                          -0.059139,1.3285,2.6302,-8.7361,-14.115,16.491,22.987,-3.066,-0.079261,7.0454,-0.21328,-26.537,
                          1.5089,77.391,-11.614,-96.526,0.35173,0.17587,-1.0961,-8.897,-2.9106,44.364,7.4544,-46.625,-0.93246,
                          6.6359,-0.92603,-50.878,8.1478,179.99,19.309,-130.8,-21.469,-112.43,-1.175,0.51541,5.0295,11.095,
                          -7.5742,-47.54,18.929,-34.514,7.7952,-12.436,1.5299,186.47,-14.505,-290.25,-24.907,-189.55,-17.815,
                          -77.719,1.0389,-3.7297,-11.9,19.91,39.282,-12.509,23.043,-9.355,7.9666,12.592,8.2528,-205.28,-58.957,
                          -226,-27.36,-98.008,-10.254,-33.032],
  
    "3.2MP, 9.6mm, 850": [1.003, 0.067623, -3.9727, 0.30708, 19.359, -1.6042, -46.663, 2.4414, 38.547, 0.05715,
                          -0.13491, -0.64939, 1.0447, 0.64835, -5.1295, 1.7349, 9.2829, -0.80875, -7.7209, -0.33443,
                          43.672, 3.1075, -123.06, -6.9536, 109.57, 0.47653, 51.231, -1.3333, 2.1064, 9.1885, -5.0854,
                          -10.789, 6.6426, -4.2704, -4.0212, 0.42696, 55.726, 1.3079, -196.63, -11.687, 252.24, 12.44,
                          1.3725, 6.3119, -22.286, 7.5707, -11.446, -34.972, 11.31, 20.906, 3.6809, 7.9937, -1.6831,
                          3.2193, -209.37, -1.9524, 323.93, 11.62, -44.267, 4.7519, -60.864, 1.1256, -25.303, -13.71,
                          20.464, 37.801, -7.2115, 13.51, -2.0276, 3.815, -1.2111, 1.4413, 296.43, -0.21929, -49.199,
                          1.9409, -85.617, 0.27295, -37.273, -0.31045, -12.106],

    "3.2MP, 9.6mm, 850": [1.0028, 0.025203, -0.99488, 0.21483, 0.3434, -1.9215, 0.23707, 4.1152, 1.968, 0.026907,
                          -0.033223, 0.19994, 1.0547, 0.099719, -6.3355, -4.1029, 11.183, 4.9737, -3.0838, -0.50493,
                          5.9205, 1.987, -11.418, 1.3298, 11.96, -6.3441, -9.8594, 0.54353, -0.64382, -4.6535, 1.0697,
                          2.4326, 18.549, 37.906, -20.76, -49.359, 8.3084, 6.2105, -52.591, -23.61, 153.63, -5.6883,
                          -68.799, 41.535, -57.899, -3.5239, 7.5288, 28.697, -46.098, -16.837, -20.285, -31.749,
                          -15.058, -32.61, -25.081, -29.919, 259.83, 55.926, -347.8, 26.161, -163.41, 23.167, -56.04,
                          6.5718, -19.791, -51.821, 132.53, -26.681, 35.169, -20.344, 6.3064, -12.254, 41.281, 46.424,
                          -403.3, 11.961, -275.12, 10.633, -89.562, 8.4846, -25.535],

    "3.2MP, 9.6mm, 880": [1.0001,0.0085554,-1.2085,0.1135,1.1169,-0.7007,0.8845,1.6268,-4.4019,0.004212,-0.063784,-0.35409,
                          1.4195,2.1291,-11.176,0.1356,25.402,-14.165,-3.3803,0.78545,8.8344,-4.0255,-22.914,6.6947,38.139,
                          -9.0621,-15.503,0.012716,0.76874,4.4568,-5.6889,-27.791,44.059,36.948,-92.524,11.897,10.693,-10.055,
                          -57.005,33.762,140.13,-6.0924,-117.31,-20.385,-74.256,0.092463,-4.1684,-13.071,0.57996,43.367,-5.0041,
                          -3.0831,-27.334,-5.6174,-32.156,40.683,215.01,-66.502,-186.17,-31.454,-137.56,-12.648,-53.341,-0.73554,
                          8.2154,5.3179,5.6391,29.213,-4.089,2.3129,-6.7228,-0.85233,47.221,-50.913,-297.46,-37.09,-196.24,-14.805,
                          -79.266,-4.7236,-25.285],

    "3.2MP, 9.6mm, 940": [1.0001,-0.0089238,-1.2904,0.44752,1.4779,-3.1945,-0.18545,6.8336,-1.6227,-0.0035849,0.030572,
                          0.2035,-0.60811,-2.1086,3.5048,7.1241,-6.5772,-7.3452,-3.3394,0.41231,10.451,-4.7846,-29.628,
                          23.385,53.909,-42.042,-39.32,0.48059,-0.049196,-4.2933,4.5534,16.313,-23.636,-19.49,32.169,
                          -15.811,11.311,-4.1373,-64.372,20.415,162.02,-16.239,-121.26,-14.793,-85.673,-3.0459,-1.6958,
                          25.487,7.1314,-15.188,11.028,-30.771,15.043,-14.282,-33.97,15.229,223.73,-28.671,-220.63,-28.494,
                          -153.08,-11.206,-59.9,6.2792,4.6191,-49.08,-42.256,-47.651,-5.5143,-22.993,2.81,-8.2447,48.597,
                          -16.334,-279.73,-32.25,-206.09,-16.808,-84.096,-4.6217,-26.726],

    "14.4MP, 3.37mm, 644, 1": [1.0219,-0.082551,-0.75626,0.76253,-1.3994,-7.0931,1.4079,18.17,16.616,-0.17738,-0.033859,0.17453,
                               0.28194,-1.7048,-1.0869,9.1604,-1.2102,-16.233,-1.3868,0.34883,-0.74073,-5.9667,22.997,28.984,-85.041,
                               -45.883,110.55,0.23053,0.043574,-2.1365,-7.855,13.434,42.037,-16.956,-32.472,-12.977,2.3827,-3.1237,15.373,
                               28.389,-54.06,-36.852,49.688,-9.7745,44.783,-0.4171,1.9126,11.017,18.127,-15.23,-90.795,-26.869,-44.089,-11.689,
                               -5.9969,10.253,-82.936,-47.518,53.336,-13.567,31.654,0.81318,13.768,1.3354,-8.9383,-18.316,37.167,-1.4536,-31.214,
                               -6.9521,-14.397,-2.9045,6.9317,-9.9994,164.11,3.5689,57.854,4.2056,16.647,3.1794,4.8568],

    "14.4MP, 8.25mm, 644, 1": [0.99982,-0.16601,-0.80467,1.2907,-0.64577,-9.1622,-3.4298,21.658,23.378,-0.25517,-0.081224,0.66206,0.62046,
                              -5.1478,-2.2923,22.911,1.9674,-38.226,-1.2755,0.68738,3.485,-11.032,-18.059,61.648,36.348,-125.17,-4.2628,0.68655,
                              0.49071,-11.618,-2.87,52.478,-16.022,-74.079,85.623,-35.775,3.2161,-5.0715,-31.119,39.669,86.996,-15.939,-48.864,
                              -49.205,-34.415,-2.5794,-3.0714,63.94,9.1682,-61.269,-68.334,-48.437,-1.4275,-15.061,-16.84,23.243,64.456,-74.808,
                              -69.249,-19.655,-55.638,-12.633,-22.465,5.5688,6.027,-108.64,59.225,-59.669,-12.757,-20.961,-1.3613,-5.0719,29.446,
                              -39.689,31.66,-34.093,-38.773,-4.8764,-23.069,-1.8723,-8.1145],

    "14.4MP, 3.37mm, 550-660-850, 1": [1.0004,-0.069444,-1.3225,0.23059,4.9298,-1.5128,-19.792,3.3776,32.584,-0.15799,0.014898,-0.093122,0.40863,
                                       1.3449,-2.697,-8.6462,4.0215,21.628,-1.9174,0.18738,7.3269,-1.5275,-36.739,7.0799,138.52,-10.063,-248.12,
                                       -0.13039,0.66808,5.4264,-14.399,-7.4481,60.3,-14.581,-92.5,21.271,5.8111,-1.0938,-26.259,14.421,33.479,
                                       -48.927,107.49,53.06,-33.681,2.7126,-5.488,-41.012,69.292,74.049,-81.232,-51.037,-44.361,-21.384,-18.279,2.1578,
                                       64.674,2.4057,-120.99,-20.07,-25.057,20.862,-22.432,-5.1292,9.3549,63.432,-99.411,-14.75,-43.009,-39.384,-11.094,
                                       15.245,25.859,-2.1664,-13.913,-39.319,-61.739,-11.31,-19.397,6.1813,-8.6056],

    "14.4MP, 8.25mm, 550-660-850, 1": [0.98502,-0.14626,-1.8067,0.83675,15.807,-0.70154,-73.872,-4.0617,116.33,-0.17434,-0.012773,-0.18998,-1.0034,
                                      -1.178,10.379,16.957,-24.535,-37.853,-0.59649,2.9239,10.47,-24.098,-129.81,40.144,421.22,33.172,-386.27,
                                      -0.55848,0.18932,9.5194,1.5743,-17.387,-30.847,1.5013,55.892,10.987,-8.2349,-23.274,-6.976,143.23,283.87,
                                      -179.05,-408.19,-59.517,-300.05,6.8858,0.88514,-56.529,12.023,29.987,-4.1909,24.631,14.65,9.0772,49.281,66.886,
                                      -143.08,-181.03,-91.433,-52.212,-178.6,-6.7983,-93.554,-15.892,-7.457,102.92,-2.6342,33.254,-2.8411,10.886,
                                      3.3902,2.9904,-89.594,-62.935,319.95,-54.663,18.935,-1.962,-39.325,3.5212,-21.729],

    "14.4MP, 3.37mm, 644, 2": [1.0203,0.06261,-0.98001,0.14658,-1.4138,-1.5669,10.486,4.6651,-7.8002,-0.16202,0.043083,-0.20001,0.96891,2.7953,
                              -8.9464,-9.4486,18.373,10.695,-1.8045,0.1054,2.2288,-1.0515,23.346,-1.191,-138.26,8.1387,212.35,0.15394,-0.13169,
                              0.26625,-10.595,-4.0902,70.157,9.3884,-84.934,-1.0847,5.0968,-1.5557,7.9206,10.065,-57.243,-7.7818,113.25,-2.9095,
                              81.919,-0.036356,4.2174,3.8678,11.072,3.2748,-107.41,-28.161,-67.008,-14.051,-12.841,5.2318,-94.844,-29.01,39.962,
                              2.6099,33.366,3.2173,15.556,-0.22826,-16.385,-9.541,72.623,12.577,-28.12,-6.867,-19.382,-3.4818,14.372,-6.2935,225.6,
                              23.858,53.15,12.779,11.749,4.6485,3.4792],

    "14.4MP, 8.25mm, 644, 2": [1.0002,0.020398,-1.0143,0.70542,-0.83049,-5.6292,1.6764,13.222,12.546,-0.22785,0.10137,0.070606,0.5844,
                               1.1659,-6.2057,-6.2514,13.073,11.289,-1.6263,0.41774,4.4376,-7.692,-13.762,40.094,6.7173,-80.503,33.286,
                               0.37308,-0.11504,-8.0082,-1.978,35.362,-10.769,-61.386,84.586,-19.061,3.9569,-4.8391,-24.216,28.819,57.418,
                               -1.0439,-1.025,-56.302,-3.1728,-1.2587,-1.0863,51.724,6.6432,-37.388,-89.784,-33.451,-12.173,-7.4852,-16.725,
                               25.446,22.847,-61.09,-53.871,-3.0913,-31.732,-12.688,-11.74,2.9854,0.97854,-94.594,78.304,-48.17,-16.495,-14.491,
                               -4.4763,-1.6014,28.356,-48.06,91.926,-30.103,-11.169,2.2236,-11.31,-1.0804,-4.4011],

    "14.4MP, 3.37mm, 550-660-850, 2": [0.99976,0.0028437,-1.3297,0.052834,4.7734,0.19887,-22.619,-0.32842,48.067,-0.12859,0.057363,-0.37981,
                                       0.20105,5.3864,-3.8937,-27.58,12.007,51.376,-2.0714,0.35996,8.0591,-1.7108,-37.221,-4.6288,144.73,25.723,
                                       -271.19,-0.31484,0.82172,6.2529,-10.065,-14.198,39.918,-2.5141,-85.553,18.39,7.9702,-2.6763,-33.641,20.346,
                                       55.09,-41.444,101.92,17.072,-43.155,4.0099,-6.8472,-45.16,60.981,66.529,-45.326,-22.344,-40.023,-11.23,
                                       -28.289,5.3354,89.768,-6.3053,-178.89,-32.066,-46.126,1.6994,-28.576,-9.1013,11.513,74.426,-98.367,-1.5977,
                                       -36.003,-22.098,-13.299,-9.3088,43.087,-3.5002,-24.689,-29.858,-93.146,-15.206,-28.906,-0.37354,-11.212],

    "14.4MP, 8.25mm, 550-660-850, 2": [0.98485,-0.048191,-1.8632,0.48606,15.463,1.6425,-77.193,-9.1972,134.5,-0.14738,0.068835,-0.55042,-1.0608,
                                       3.2395,7.09,-4.5189,-11.421,-2.4103,-0.79845,2.992,9.4753,-23.886,-122.03,25.735,412.83,78.18,-398.83,-0.78429,
                                       0.18921,9.7688,4.2116,-21.63,-40.472,6.9057,48.975,21.477,-7.2602,-24.853,-2.336,150.18,270.66,-187.65,-404.78,
                                       -68.988,-300.82,7.6658,-0.50671,-53.022,10.934,27.811,7.2663,28.003,16.642,12.498,42.939,71.368,-140.08,-186.42,
                                       -103.42,-58.325,-179.15,-12.032,-93.964,-17.404,-4.9328,94.819,-3.4335,35.245,3.0199,13.797,4.237,5.0576,-75.888,
                                       67.736,300.9,-56.56,14.191,-3.935,-40.086,2.2505,-21.731],

    "14.4MP, 3.37mm, 644, 3": [1.0199,-0.021327,-1.0092,0.1737,0.75308,-2.3513,-4.8217,8.838,27.51,0.1037,-0.088525,0.041656,0.71472,
                            -1.0468,-6.5082,4.6554,13.04,-6.5604,-1.6054,0.38768,0.4444,-2.2715,33.7,8.5343,-143.65,-18.277,173.34,
                            0.14734,-1.0375,1.1876,-0.67226,-3.2134,48.483,-6.0094,-60.207,0.55518,3.6027,-1.7012,19.043,7.3885,
                            -125.92,-6.387,171.35,13.131,113.85,-1.5812,12.861,-10.858,-44.373,40.219,-86.956,-19.317,-46.11,
                            -10.919,-3.0486,5.68,-117.47,-25.208,131.99,-9.0045,91.998,2.8758,36.841,3.1543,-34.056,13.079,168.11,
                            -17.885,7.1196,-18.818,-6.6519,-7.1976,-5.2433,-9.2863,226.37,34.056,93.608,9.0643,33.11,4.0331,10.825],

    "14.4MP, 8.25mm, 644, 3": [1.0002,-0.068237,-0.92921,0.62248,0.89765,-5.5532,-11.146,15.364,41.785,0.12467,-0.14432,0.47286,
                            0.43278,-5.6638,-1.7358,24.331,1.9077,-35.133,-1.1703,0.76304,1.444,-7.8448,-3.408,37.604,5.6175,
                            -76.989,-3.9452,0.199,-0.81694,-4.9842,9.4145,26.722,-45.016,-87.329,130.29,50.861,1.4002,-6.4094,
                            -11.366,28.006,7.1517,31.182,32.257,-124,6.3527,-2.4007,9.5734,14.311,-60.113,88.777,-55.283,-75.54,
                            16.706,-10.304,-4.2545,32.419,19.654,-84.108,3.8595,-6.8971,-16.093,-41.85,-13.481,4.9166,-24.181,
                            -21.187,202.52,-229.45,19.795,-99.697,5.1347,-22.216,7.3527,-59.796,39.823,29.372,-8.8814,24.32,-17.565,
                            -2.323,-9.3958],

    "14.4MP, 3.37mm, 550-660-850, 3": [0.99585,-0.076718,-1.5392,0.13213,6.5397,-1.6004,-31.282,5.4028,63.519,0.025014,-0.0022565,-0.39557,
                                    0.97801,1.8969,-6.8384,-9.1063,12.97,23.058,-2.4509,0.37951,8.7387,-2.3295,-36.703,11.638,158.11,
                                    -18.376,-301.33,-0.54374,0.14395,9.1342,-15.423,-11.28,77.613,-27.759,-108.65,30.009,9.3753,-0.81781,
                                    -33.642,11.64,16.546,-40.113,84.071,22.442,-44.814,4.5862,0.41241,-64.046,51.879,83.454,-107.86,-18.164,
                                    -66.181,-3.7909,-30.923,-3.2056,110.37,6.9827,-66.206,-22.893,-4.914,6.6782,-15.309,-9.5406,-5.1293,105.37,
                                    -34.432,-11.911,-46.682,-27.185,-19.229,-8.6832,46.009,8.3716,-126.85,-19.147,-60.925,-10.689,-13.257,1.3175,
                                    -6.1482],

    "14.4MP, 8.25mm, 550-660-850, 3": [0.98323,-0.12125,-1.5972,0.16982,15.442,1.334,-76.002,-4.9037,129.49,0.077283,-0.047773,-0.70656,
                                    -0.68534,1.0412,9.4958,7.5812,-21.732,-20.745,-0.47807,2.2285,9.3485,-15.754,-127.84,21.035,450.74,
                                    32.561,-463.03,-0.91373,0.60437,11.134,-0.31409,-19.475,-34.452,-0.30462,67.785,23.921,-8.3609,-17.901,
                                    1.0151,96.47,282.77,-116.95,-456.7,-43.269,-338.58,6.1161,0.092811,-59.676,17.677,27.502,-11.466,22.765,
                                    14.216,11.996,51.992,54.986,-168.96,-125.44,-86.519,-13.342,-189.01,2.538,-101.75,-13.055,-7.7754,106.06,
                                    1.2784,23.189,-4.3606,7.5734,2.6189,3.343,-94.762,-61.624,354.16,-22.004,29.848,12.485,-40.198,6.6993,-22.787]



}
class Vignette(QtWidgets.QDialog, VIGNETTE_CLASS):
    def __init__(self, parent=None):
        """Constructor."""
        super(Vignette, self).__init__(parent=parent)
        self.parent = parent

        self.setupUi(self)
    def on_VignetteSaveButton_released(self):
        # c1 = float(self.VignetteCoef.text())
        print("here")
        h, w = self.parent.display_image_original.shape[:2]
        pict = cv2.imread(self.parent.KernelBrowserFile.text(), -1)
        # vig_image = cv2.imread(modpath + os.sep + "Vignettes" + os.sep + "vig_615.tif", -1)
        # pict = pict / vig_image

        # cx = w/2
        # cy = h/2
        # np.array((key for (key, val) in POS_DICT.items())).astype("float64")
        # i_list = []
        # j_list = []
        # vig_image = np.ones((h, w),np.dtype("float32"))
        # vig_image = cv2.imread(modpath + os.sep + "Vignettes" + os.sep + "vig_615.tif", -1)
        # if len(pict.shape) > 2:
        #     b, g, r = cv2.split(pict)
        #     b = b / vig_image
        #     g = g / vig_image
        #     r = r / vig_image
        #     pict = cv2.merge((b,g,r))
        # else:
        #     pict = pict / vig_image
        #
        # for (i, j) in POS_DICT[str(self.VigSensorSelect.currentText()) + ", " + str(self.VigLensSelect.currentText()) + ", " + str(self.VigFilterSelect.currentText())]:
        # for (i, j) in POS_DICT[str(self.VigSensorSelect.currentText()) + ", " + str(self.VigLensSelect.currentText()) + ", 450"]:
        #     i_list.append(i)
        #     j_list.append(j)
        try:
        #     for Y in range(self.parent.display_image_original.shape[:2][0]):
        #         for X in range(self.parent.display_image_original.shape[:2][1]):
        #             # dx = (x - cx)/(w/2)
        #             # dy = (y - cy)/(h/2)
        #             #
        #             # r2 = (dx*dx) + (dy*dy)
        #             x = X - (w/2)
        #             y = Y - (h/2)
        #             # for n in range(len(POS_DICT["3.2MP, 9.6mm, 850"])):
        #             # vig_image[Y, X] = sum(C_DICT[str(self.VigSensorSelect.currentText()) + ", " + str(self.VigLensSelect.currentText()) + ", " + str(self.VigFilterSelect.currentText())][:] * (np.power((x/w), i_list) * np.power((y/h), j_list)))
        #             vig_image[Y, X] = sum(C_DICT[str(self.VigSensorSelect.currentText()) + ", " + str(self.VigLensSelect.currentText()) + ", 450"][:] * (np.power((x/w), i_list) * np.power((y/h), j_list)))
        #
        #             # pict[y, x] = (pict[y, x] * (1 + (c1 * r2)))
        #             # pict[Y, X] = pict[Y, X] / v
        #     with open(modpath + os.sep + r"vig_image.txt", "wb") as vigfile:
        #         vigfile.write(bytes(vig_image.data))


            # with open(modpath + os.sep + r"vig_" + str(self.VigFilterSelect.currentText()) + r".txt", "rb") as vigfile:
            with open(modpath + os.sep + r"vig_" + str(self.VigFilterSelect.currentText()) + r".txt", "rb") as vigfile:
                v_array = np.ndarray((h, w), np.dtype("float32"), np.fromfile(vigfile, np.dtype("float32")))
                pict = pict / v_array
                pict[pict > 65535.0] = 65535.0
                pict[pict < 0.0] = 0.0
                pict = pict / 65535.0
                pict = pict * 255.0
                pict = pict.astype("uint8")

            if pict.dtype == np.dtype("uint16"):
                pict = pict / 65535.0
                pict = pict * 255.0
                pict = pict.astype("uint8")
            elif pict.dtype == np.dtype("float32"):
                pict = pict / np.finfo("float32").max
                pict = pict * 255.0
                pict = pict.astype("uint8")
            # mx = pict.max()  # np.percentile(pict, 98)
            # mn = pict.min()  # np.percentile(pict, 2)
            if len(pict.shape) > 2:
                pict = cv2.cvtColor(pict, cv2.COLOR_BGR2RGB)
            else:
                pict = cv2.cvtColor(pict, cv2.COLOR_GRAY2RGB)
            # pict[pict > mx] = mx
            # pict[pict < mn] = mn
            self.parent.display_image_original = pict
            self.parent.display_image = pict

            if self.parent.calcwindow:
                self.parent.calcwindow.processIndex()
            if self.parent.LUTwindow:
                self.parent.LUTwindow.RasterMin.setText(str(round(self.parent.LUT_Min, 2)))
                self.parent.LUTwindow.RasterMax.setText(str(round(self.parent.LUT_Max, 2)))
                self.parent.LUTwindow.processLUT()
            self.parent.applyLUT()
            self.parent.applyRaster()
            self.parent.stretchView()
            # if len(pict.shape) > 2:
            #     pict = cv2.cvtColor(pict, cv2.COLOR_BGR2RGB)
            #     img2 = QtGui.QImage(pict, w, h, w * 3, QtGui.QImage.Format_RGB888)
            # else:
            #     img2 = QtGui.QImage(pict, w, h, w , QtGui.QImage.Format_Grayscale8)

        except Exception as e:
            print(e)
    def on_VignetteCloseButton_released(self):
        self.close()
